<h1 id="data-operations-manual">Data Operations Manual</h1>
<p>The planning data service relies upon a set of data workflows. The main
goal is to collect data from external organisations published in accordance with data specifications published by
digital land and make it available as part of a national dataset.</p>
<h2 id="key-processes">Key Processes</h2>
<p>This is our list of key processes that the team will need to perform to maintain the service. They primarily rely on running CLI tools from our
digital-land-python python package</p>
<h3 id="validating-an-endpoint">Validating an endpoint</h3>
<h3 id="adding-a-new-endpoint-with-a-new-source-to-the-system">Adding a new endpoint (with a new source) to the system</h3>
<p>This is a fairly common process. As time goes on and we encourage LPAs to have a single constant endpoint per dataset we won&rsquo;t require it as often.</p>
<p>Optional - before adding it may be worth validating the endpoint this will allow you to check that the data is processed correvtly before including it in the system.</p>

<ol>
<li>Clone the relevant collection repository from Github. You will need to have at least contributer access to push your changes at the end. Once downloaded ensure dependencies have been installed and the repo has been initialised using <code>gake init</code></li>
<li>Run the command:<br>
<code>digital-land collection-add-source &lt;collection-name&gt; &lt;endpoint-url&gt; organisation &lt;organisation-name&gt;</code> <br></li>
<li>Edit source.csv

<ol>
<li>add any pipelines (equivalent name as the dataset) that any collected resources should be ran through.</li>
<li>check organisation has been provided (it should&rsquo;ve been in the above command)</li>
<li>add a documentation-url of the webpage which lists the the endpoint-url</li>
<li>ad a reference name for the licence and attribution</li>
</ol></li>
<li>Assign new entity numbers using the first resource you can collect from the endpoint</li>
<li>run the pipeline and check the resulting sqlite to see if the data is correctly process. Running <code>make datasette</code> will spin up a local datasette server contianing the sqlite db created. This can be useful for investigating the data. </li>
</ol>
